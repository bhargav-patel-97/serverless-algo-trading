<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithmic Trading Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <h1>Trading Dashboard</h1>
                <div class="system-status">
                    <div class="status-indicator" id="apiStatus">
                        <span class="status-dot"></span>
                        <span class="status-text">API Connected</span>
                    </div>
                    <div class="last-update">
                        Last Update: <span id="lastUpdate">2025-09-23 09:47:12</span>
                    </div>
                    <button class="btn btn--error emergency-stop" id="emergencyStop">
                        Emergency Stop
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="dashboard-content">
            <!-- Sidebar Navigation -->
            <nav class="sidebar">
                <ul class="nav-menu">
                    <li><a href="#" class="nav-link active" data-tab="dashboard">Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-tab="strategies">Strategies</a></li>
                    <li><a href="#" class="nav-link" data-tab="risk">Risk Management</a></li>
                    <li><a href="#" class="nav-link" data-tab="positions">Positions</a></li>
                    <li><a href="#" class="nav-link" data-tab="logs">Logs</a></li>
                    <li><a href="#" class="nav-link" data-tab="backtest">Backtest</a></li>
                    <li><a href="#" class="nav-link" data-tab="manual">Manual Trading</a></li>
                </ul>
            </nav>

            <!-- Tab Content -->
            <main class="main-content">
                <!-- Dashboard Tab -->
                <section id="dashboard" class="tab-content active">
                    <div class="metrics-grid">
                        <!-- Portfolio Overview -->
                        <div class="card">
                            <div class="card__body">
                                <h3>Portfolio Overview</h3>
                                <div class="metric-row">
                                    <div class="metric">
                                        <label>Total Value</label>
                                        <span class="value" id="totalValue">$101,200</span>
                                    </div>
                                    <div class="metric">
                                        <label>Cash</label>
                                        <span class="value" id="cashValue">$98,500</span>
                                    </div>
                                    <div class="metric">
                                        <label>Daily P&L</label>
                                        <span class="value positive" id="dailyPnl">+$285</span>
                                    </div>
                                    <div class="metric">
                                        <label>Total P&L</label>
                                        <span class="value positive" id="totalPnl">+$1,200</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Metrics -->
                        <div class="card">
                            <div class="card__body">
                                <h3>Performance Metrics</h3>
                                <div class="metric-row">
                                    <div class="metric">
                                        <label>Total Return</label>
                                        <span class="value positive" id="totalReturn">1.2%</span>
                                    </div>
                                    <div class="metric">
                                        <label>Sharpe Ratio</label>
                                        <span class="value" id="sharpeRatio">1.85</span>
                                    </div>
                                    <div class="metric">
                                        <label>Max Drawdown</label>
                                        <span class="value negative" id="maxDrawdown">-2.1%</span>
                                    </div>
                                    <div class="metric">
                                        <label>Win Rate</label>
                                        <span class="value" id="winRate">67%</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Current Positions -->
                        <div class="card positions-card">
                            <div class="card__body">
                                <h3>Current Positions</h3>
                                <div class="positions-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Symbol</th>
                                                <th>Qty</th>
                                                <th>Entry Price</th>
                                                <th>Current Price</th>
                                                <th>P&L</th>
                                                <th>Market Value</th>
                                            </tr>
                                        </thead>
                                        <tbody id="positionsTableBody">
                                            <!-- Will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Chart -->
                        <div class="card chart-card">
                            <div class="card__body">
                                <h3>Portfolio Performance</h3>
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="performanceChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Trades -->
                        <div class="card trades-card">
                            <div class="card__body">
                                <h3>Recent Trades</h3>
                                <div class="trades-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Time</th>
                                                <th>Symbol</th>
                                                <th>Action</th>
                                                <th>Qty</th>
                                                <th>Price</th>
                                                <th>Strategy</th>
                                                <th>P&L</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tradesTableBody">
                                            <!-- Will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Strategies Tab -->
                <section id="strategies" class="tab-content">
                    <div class="strategies-grid">
                        <div class="card">
                            <div class="card__body">
                                <h3>Strategy Configuration</h3>
                                <div class="strategy-tabs">
                                    <button class="strategy-tab active" data-strategy="momentum">Momentum</button>
                                    <button class="strategy-tab" data-strategy="meanreversion">Mean Reversion</button>
                                    <button class="strategy-tab" data-strategy="regime">Regime Detection</button>
                                </div>
                                
                                <div id="momentumStrategy" class="strategy-config active">
                                    <div class="strategy-header">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="momentumEnabled" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span>Enable Momentum Strategy</span>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Short MA Period</label>
                                        <input type="number" class="form-control" id="maShort" value="20">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Long MA Period</label>
                                        <input type="number" class="form-control" id="maLong" value="50">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Position Size (%)</label>
                                        <input type="number" class="form-control" id="momentumPositionSize" value="2" step="0.1">
                                    </div>
                                </div>

                                <div id="meanreversionStrategy" class="strategy-config">
                                    <div class="strategy-header">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="meanReversionEnabled">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span>Enable Mean Reversion Strategy</span>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">RSI Period</label>
                                        <input type="number" class="form-control" id="rsiPeriod" value="14">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Oversold Threshold</label>
                                        <input type="number" class="form-control" id="oversoldThreshold" value="30">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Overbought Threshold</label>
                                        <input type="number" class="form-control" id="overboughtThreshold" value="70">
                                    </div>
                                </div>

                                <div id="regimeStrategy" class="strategy-config">
                                    <div class="strategy-header">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="regimeEnabled" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span>Enable Regime Detection Strategy</span>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Lookback Period</label>
                                        <input type="number" class="form-control" id="lookbackPeriod" value="200">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Bull Market ETF</label>
                                        <select class="form-control" id="bullEtf">
                                            <option value="TQQQ" selected>TQQQ</option>
                                            <option value="UPRO">UPRO</option>
                                            <option value="TECL">TECL</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Bear Market ETF</label>
                                        <select class="form-control" id="bearEtf">
                                            <option value="SQQQ" selected>SQQQ</option>
                                            <option value="SPXU">SPXU</option>
                                            <option value="TECS">TECS</option>
                                        </select>
                                    </div>
                                </div>

                                <button class="btn btn--primary" id="saveStrategies">Save Configuration</button>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card__body">
                                <h3>ETF Universe</h3>
                                <div class="etf-grid" id="etfGrid">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Risk Management Tab -->
                <section id="risk" class="tab-content">
                    <div class="risk-grid">
                        <div class="card">
                            <div class="card__body">
                                <h3>Risk Parameters</h3>
                                <div class="form-group">
                                    <label class="form-label">Max Daily Loss (%)</label>
                                    <input type="number" class="form-control" id="maxDailyLoss" value="5" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Max Position Size (%)</label>
                                    <input type="number" class="form-control" id="maxPositionSize" value="10" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Stop Loss (%)</label>
                                    <input type="number" class="form-control" id="stopLoss" value="3" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Take Profit (%)</label>
                                    <input type="number" class="form-control" id="takeProfit" value="6" step="0.1">
                                </div>
                                <button class="btn btn--primary" id="saveRisk">Update Risk Settings</button>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card__body">
                                <h3>Risk Metrics</h3>
                                <div class="metric-row">
                                    <div class="metric">
                                        <label>Current Exposure</label>
                                        <span class="value" id="currentExposure">2.7%</span>
                                    </div>
                                    <div class="metric">
                                        <label>Daily Loss Limit</label>
                                        <span class="value" id="dailyLossLimit">$5,060</span>
                                    </div>
                                    <div class="metric">
                                        <label>Available Buying Power</label>
                                        <span class="value" id="buyingPower">$98,500</span>
                                    </div>
                                    <div class="metric">
                                        <label>Risk Score</label>
                                        <span class="value status--success">Low</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Positions Tab -->
                <section id="positions" class="tab-content">
                    <div class="card">
                        <div class="card__body">
                            <h3>Position Management</h3>
                            <div class="positions-detailed" id="positionsDetailed">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Logs Tab -->
                <section id="logs" class="tab-content">
                    <div class="card">
                        <div class="card__body">
                            <h3>System Logs</h3>
                            <div class="log-controls">
                                <select class="form-control" id="logLevel" style="width: auto; display: inline-block;">
                                    <option value="all">All Levels</option>
                                    <option value="INFO">Info</option>
                                    <option value="WARNING">Warning</option>
                                    <option value="ERROR">Error</option>
                                    <option value="SUCCESS">Success</option>
                                </select>
                                <button class="btn btn--secondary" id="clearLogs">Clear Logs</button>
                            </div>
                            <div class="log-viewer" id="logViewer">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Backtest Tab -->
                <section id="backtest" class="tab-content">
                    <div class="card">
                        <div class="card__body">
                            <h3>Backtesting</h3>
                            <div class="backtest-controls">
                                <div class="form-group">
                                    <label class="form-label">Start Date</label>
                                    <input type="date" class="form-control" id="backtestStart" value="2024-01-01">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">End Date</label>
                                    <input type="date" class="form-control" id="backtestEnd" value="2025-09-23">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Initial Capital</label>
                                    <input type="number" class="form-control" id="initialCapital" value="100000">
                                </div>
                                <button class="btn btn--primary" id="runBacktest">Run Backtest</button>
                            </div>
                            <div class="backtest-results" id="backtestResults">
                                <div class="chart-container" style="position: relative; height: 400px;">
                                    <canvas id="backtestChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Manual Trading Tab -->
                <section id="manual" class="tab-content">
                    <div class="manual-trading-grid">
                        <div class="card">
                            <div class="card__body">
                                <h3>Manual Trading</h3>
                                <div class="form-group">
                                    <label class="form-label">Symbol</label>
                                    <select class="form-control" id="manualSymbol">
                                        <option value="TQQQ">TQQQ</option>
                                        <option value="SQQQ">SQQQ</option>
                                        <option value="UPRO">UPRO</option>
                                        <option value="SPXU">SPXU</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Quantity</label>
                                    <input type="number" class="form-control" id="manualQuantity" value="10">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Order Type</label>
                                    <select class="form-control" id="orderType">
                                        <option value="market">Market</option>
                                        <option value="limit">Limit</option>
                                    </select>
                                </div>
                                <div class="form-group" id="limitPriceGroup" style="display: none;">
                                    <label class="form-label">Limit Price</label>
                                    <input type="number" class="form-control" id="limitPrice" step="0.01">
                                </div>
                                <div class="manual-buttons">
                                    <button class="btn btn--success" id="manualBuy">Buy</button>
                                    <button class="btn btn--error" id="manualSell">Sell</button>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card__body">
                                <h3>Position Controls</h3>
                                <div class="position-controls" id="positionControls">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>